<div class="beforeLogin">
    <div class="banner"></div>
    <div class="content">
        <img src="../img/logo-en.png" class="logo">
        <div class="go-login"><a href="../../../login.html">Log in</a> to an existing account</div>
        <div class="top-line"></div>
        <div class="title">
            <div>Register</div>
            <a class="change" ui-sref="registerByEmail">Register via email</a>
        </div>
        <div class="line"></div>
        <form class="form" name="byPhone" novalidate>
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="name" placeholder="6 to 32 chars(a-z,0-9,_) starting with a letter" ng-model="register.name" required
                       ng-pattern="/^[a-zA-Z][a-zA-Z0-9_]{5,31}$/" ajax-valid="validName" ng-blur="change.name=true"
                       ng-focus="change.name=false" ng-keyup="keySubmit($event)">
                <div class="error" ng-show="byPhone.name.$invalid && byPhone.name.$dirty&&change.name"
                     ng-messages="byPhone.name.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">Invalid username</span>
                    <span ng-message="ajaxValid">Username already exits</span>
                </div>
                <div class="success" ng-show="byPhone.name.$valid&&change.name"></div>
            </div>
            <div class="form-group">
                <label>Characters</label>
                <input class="h142" type="text" placeholder="Enter the characters" name="code" ng-model="register.code" required
                       ng-change="clearCodeError()" ng-minlength="4" ng-maxlength="4" ng-blur="change.code=true"
                       ng-focus="change.code=false" ng-keyup="keySubmit($event)">
                <div class="code" ng-click="changeCode()">
                    <img ng-src="{{getCode}}">
                </div>
                <div class="error" ng-show="byPhone.code.$invalid && byPhone.code.$dirty&&change.code"
                     ng-messages="byPhone.code.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="minlength">Enter four characters</span>
                    <span ng-message="maxlength">Enter four characters</span>
                </div>
                <div class="error" ng-show="codeError.show">
                    <span ng-show="codeError.required">This field is required</span>
                    <span ng-show="codeError.error">Incorrect characters</span>
                    <span ng-show="codeError.timeOut">Expired. Please update it</span>
                </div>
            </div>
            <div class="form-group">
                <label>Phone number</label>
                <input type="text" name="phone" ng-model="register.phone" placeholder="Enter phone number" required
                       ng-pattern="/^1[34578]\d{9}$/" ajax-valid="validPhone" ng-blur="change.phone=true"
                       ng-focus="change.phone=false" ng-keyup="keySubmit($event)">
                <div class="error" ng-show="byPhone.phone.$dirty && byPhone.phone.$invalid&&change.phone"
                     ng-messages="byPhone.phone.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">Invalid phone number</span>
                    <span ng-message="ajaxValid">Phone number already exits</span>
                </div>
                <div class="success" ng-show="byPhone.phone.$valid&&change.phone"></div>
            </div>
            <div class="form-group">
                <label>Verification code</label>
                <input class="pr88" type="text" placeholder="Enter verification code" ng-model="register.checkCode" name="checkCode" required
                       ng-blur="change.checkCode=true" ng-focus="change.checkCode=false" ng-keyup="keySubmit($event)">
                <div class="btn-sort" ng-class="{'disabled':codeDisabled}" ng-click="getPhoneCode($event)">Send</div>
                <div class="error" ng-show="byPhone.checkCode.$dirty && byPhone.checkCode.$invalid&&change.checkCode"
                     ng-messages="byPhone.checkCode.$error">
                    <span ng-message="required">Thid field is required</span>
                </div>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input class="pr37" id="password" type="password" placeholder="8 to 32 characters" required ng-pattern="passwordpat"
                       name="password" ng-model="register.password" ng-hide="showPassword"
                       ng-blur="change.password=true" ng-focus="change.password=false"  oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <input class="pr37" type="text" placeholder="8 to 32 characters" ng-model="register.password" ng-show="showPassword"
                       name="password1" ng-blur="change.password=true" ng-focus="change.password=false"  oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <i class="icon-eye" ng-class="{'open':toggleEye}" ng-click="togglePassword()"></i>
                <div class="error"
                     ng-show="byPhone.password.$invalid&&change.password&&(byPhone.password.$dirty||byPhone.password1.$dirty)"
                     ng-messages="byPhone.password.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">8 to 32 chars without spaces</span>
                </div>
                <div class="success" ng-show="byPhone.password.$valid&&change.password&&(byPhone.password.$dirty||byPhone.password1.$dirty)"></div>
                <div class="password-level" ng-show="passwordLevel">
                    <div class="word">
                        <div class="word1"><span ng-show="pw.l">弱</span></div>
                        <div class="word2"><span ng-show="pw.m">中</span></div>
                        <div class="word3"><span ng-show="pw.h">强</span></div>
                    </div>
                    <div class="level">
                        <div class="level1" ng-show="pw.l"></div>
                        <div class="level2" ng-show="pw.m"></div>
                        <div class="level3" ng-show="pw.h"></div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Confirm</label>
                <input class="pr37" type="password" placeholder="Confirm password" name="conpassword" ng-model="conpassword"
                       ng-hide="showPasswordCon" required pw-check="password" ng-blur="change.conpassword=true"
                       ng-focus="change.conpassword=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <input class="pr37" type="text" placeholder="Confirm password" name="conpassword1" ng-model="conpassword"
                       ng-show="showPasswordCon" ng-blur="change.conpassword=true"
                       ng-focus="change.conpassword=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <i class="icon-eye" ng-class="{'open':toggleEyeCon}" ng-click="togglePasswordCon()"></i>
                <div class="error"
                     ng-show="byPhone.conpassword.$invalid&&change.conpassword&&(byPhone.conpassword.$dirty||byPhone.conpassword1.$dirty)"
                     ng-messages="byPhone.conpassword.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pwCheck">Inconsistent passwords</span>
                </div>
                <div class="success"
                     ng-show="byPhone.conpassword.$valid&&change.conpassword&&(byPhone.conpassword.$dirty||byPhone.conpassword1.$dirty)"></div>
            </div>
            <div class="form-group">
                <label></label>
                <div class="btn" ng-click="submitData()">Register</div>
            </div>
            <div class="form-group mt0" ng-show="error.show">
                <label></label>
                <div class="backstageError" ng-bind="error.message"></div>
            </div>
        </form>
    </div>
</div>
<div class="read_rc" id="register_byPhone_rc"
     request-error="Request sending failed. Please try again"
     code-error="Failed to load characters. Please update it"
     code-text="Send,Re-send"
     phone-code="Failed to send a verification code. Please try again"
     data-error="Please enter correct registration information">
</div>