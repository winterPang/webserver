<div class="beforeLogin">
    <div class="banner"></div>
    <div class="content">
        <img src="../img/logo-en.png" class="logo">
        <div class="go-login"><a href="../../../login.html">Log in</a> to an existing account</div>
        <div class="top-line"></div>
        <div class="title">
            <div>Register</div>
            <a class="change" ui-sref="registerByPhone" ng-hide="env === 'oasishk'">Register via phone</a>
        </div>
        <div class="line"></div>
        <form class="form" name="byEmail" novalidate>
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="name" placeholder="6 to 32 chars(a-z,0-9,_) starting with a letter" ng-model="register.name" required
                       ng-pattern="/^[a-zA-Z][a-zA-Z0-9_]{5,31}$/" ajax-valid="validName" ng-blur="change.name=true"
                       ng-focus="change.name=false" ng-keyup="keySubmit($event)">
                <div class="error" ng-show="byEmail.name.$invalid && byEmail.name.$dirty&&change.name"
                     ng-messages="byEmail.name.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">Invalid username</span>
                    <span ng-message="ajaxValid">Username already exits</span>
                </div>
                <div class="success" ng-show="byEmail.name.$valid&&change.name"></div>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="text" name="email" placeholder="Enter email address" ng-model="register.email" required
                       ajax-valid="validEmail"
                       ng-maxlength="64"
                       ng-pattern="/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})$/"
                       ng-blur="change.email=true" ng-focus="change.email=false" ng-keyup="keySubmit($event)">
                <div class="error" ng-show="byEmail.email.$invalid && byEmail.email.$dirty&&change.email"
                     ng-messages="byEmail.email.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">Invalid email address</span>
                    <span ng-message="maxlength">Max. length: 64 characters</span>
                    <span ng-message="ajaxValid">Email already exits</span>
                </div>
                <div class="success" ng-show="byEmail.email.$valid&&change.email"></div>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input class="pr37" id="password" type="password" placeholder="8 to 32 characters" required ng-pattern="passwordpat"
                       name="password" ng-model="register.password" ng-hide="showPassword"
                       ng-blur="change.password=true" ng-focus="change.password=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <input class="pr37" type="text" placeholder="8 to 32 characters" ng-model="register.password" ng-show="showPassword"
                       name="password1" ng-blur="change.password=true" ng-focus="change.password=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <i class="icon-eye" ng-class="{'open':toggleEye}" ng-click="togglePassword()"></i>
                <div class="error"
                     ng-show="byEmail.password.$invalid&&change.password&&(byEmail.password.$dirty||byEmail.password1.$dirty)"
                     ng-messages="byEmail.password.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pattern">8 to 32 chars without spaces</span>
                </div>
                <div class="success" ng-show="byEmail.password.$valid&&change.password&&(byEmail.password.$dirty||byEmail.password1.$dirty)"></div>
                <div class="password-level" ng-show="passwordLevel">
                    <div class="word">
                        <div class="word1"><span ng-show="pw.l">弱</span></div>
                        <div class="word2"><span ng-show="pw.m">中</span></div>
                        <div class="word3"><span ng-show="pw.h">强</span></div>
                    </div>
                    <div class="level">
                        <div class="level1" ng-show="pw.l"></div>
                        <div class="level2" ng-show="pw.m"></div>
                        <div class="level3" ng-show="pw.h"></div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Confirm</label>
                <input class="pr37" type="password" placeholder="Confirm password" name="conpassword" ng-model="conpassword"
                       ng-hide="showPasswordCon" required pw-check="password" ng-blur="change.conpassword=true"
                       ng-focus="change.conpassword=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <input class="pr37" type="text" placeholder="Confirm password" name="conpassword1" ng-model="conpassword"
                       ng-show="showPasswordCon" ng-blur="change.conpassword=true"
                       ng-focus="change.conpassword=false" oncopy="return false;" onpaste="return false;" oncut="return false;" ng-keyup="keySubmit($event)">
                <i class="icon-eye" ng-class="{'open':toggleEyeCon}" ng-click="togglePasswordCon()"></i>
                <div class="error"
                     ng-show="byEmail.conpassword.$invalid&&change.conpassword&&(byEmail.conpassword.$dirty||byEmail.conpassword1.$dirty)"
                     ng-messages="byEmail.conpassword.$error">
                    <span ng-message="required">This field is required</span>
                    <span ng-message="pwCheck">Inconsistent passwords</span>
                </div>
                <div class="success"
                     ng-show="byEmail.conpassword.$valid&&change.conpassword&&(byEmail.conpassword.$dirty||byEmail.conpassword1.$dirty)"></div>
            </div>
            <div class="form-group">
                <label></label>
                <div class="btn" ng-click="submitData()">Register</div>
            </div>
            <div class="form-group mt0" ng-show="error.show">
                <label></label>
                <div class="backstageError" ng-bind="error.message"></div>
            </div>
        </form>
    </div>
</div>
<div class="read_rc" id="register_byEmail_rc"
     request-error="Request sending failed. Please try again"
     data-error="Please enter correct registration information">
</div>