{"version":3,"sources":["frame/component/menu/oasis-menu.js"],"names":["directive","console","log","TemplateUrl","Default","type","animation","renderMenu","$scope","options","data","menuType","targatMenu","event","currentEle","$","angular","element","currentTarget","nextEle","next","is","otherVisible","find","slideUp","removeClass","parent","parents","first","ul","slideDown","addClass","restrict","scope","templateUrl","replace","controller","$element","link","attr","jQuery","width","css","bgcolor","$watch","extend"],"mappings":";;;;;;;;;;;;;AAIA,uBAAWA,SAAX,CAAqB,WAArB,EAAkC,CAAC,YAAY;AAC3CC,YAAQC,GAAR,CAAY,KAAZ;AACA,QAAIC,cAAc,uCAAlB;AACA,QAAIC,UAAU;AACVC,YAAM,UADI;AAEVC,iBAAW;AAFD,KAAd;AAIA,aAASC,UAAT,CAAoBC,MAApB,EAA4BC,OAA5B,EAAqC;AACzBD,aAAOE,IAAP,GAAcD,QAAQC,IAAtB;AACAF,aAAOG,QAAP,GAAkBF,QAAQJ,IAA1B;AACA,UAAIC,YAAYG,QAAQH,SAAxB;AACAE,aAAOI,UAAP,GAAoB,UAAUC,KAAV,EAAiB;AACjC;AACA,YAAIC,aAAaC,EAAEC,QAAQC,OAAR,CAAgBJ,MAAMK,aAAtB,CAAF,CAAjB;AACA,YAAIC,UAAUL,WAAWM,IAAX,EAAd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAID,QAAQE,EAAR,CAAW,IAAX,KAAoBF,QAAQE,EAAR,CAAW,UAAX,CAAxB,EAAgD;AAC5C,cAAIC,eAAeH,QAAQI,IAAR,CAAa,YAAb,CAAnB;AACAD,uBAAaE,OAAb,CAAqBlB,SAArB,EAAgCmB,WAAhC,CAA4C,WAA5C;AACAN,kBAAQK,OAAR,CAAgBlB,SAAhB,EAA2BmB,WAA3B,CAAuC,WAAvC;AACH,SAJD,MAIO,IAAI,CAACN,QAAQE,EAAR,CAAW,UAAX,CAAL,EAA6B;AAChC,cAAIK,SAASZ,WAAWa,OAAX,CAAmB,IAAnB,EAAyBC,KAAzB,EAAb;AACA,cAAIC,KAAKH,OAAOH,IAAP,CAAY,YAAZ,CAAT;AACAM,aAAGL,OAAH,CAAWlB,SAAX,EAAsBmB,WAAtB,CAAkC,WAAlC;AACAN,kBAAQW,SAAR,CAAkBxB,SAAlB,EAA6ByB,QAA7B,CAAsC,WAAtC;AACH;AACJ,OAlCD;AAmCX;AACD,WAAO;AACLC,gBAAU,IADL;AAELC,aAAO;AACLxB,iBAAS;AADJ,OAFF;AAKLyB,mBAAa/B,WALR;AAMLgC,eAAS,IANJ;AAOLC,kBAAY,SAASA,UAAT,CAAoB5B,MAApB,EAA4B6B,QAA5B,EAAsC;AAChD;AACD,OATI;AAULC,YAAM,SAASA,IAAT,CAAc9B,MAAd,EAAsB6B,QAAtB,EAAgCE,IAAhC,EAAsCH,UAAtC,EAAkD;AACtD;AACA,YAAI,EAAEC,oBAAoBG,MAAtB,CAAJ,EAAmC;AACjCH,qBAAWtB,EAAEsB,QAAF,CAAX;AACD;AACD,YAAIE,KAAKE,KAAT,EAAgBJ,SAASK,GAAT,CAAa;AAC3BD,iBAAOF,KAAKE,KAAL,GAAa;AADO,SAAb;AAGhB,YAAIF,KAAKI,OAAT,EAAkBN,SAASK,GAAT,CAAa;AAC7B,8BAAoBH,KAAKI;AADI,SAAb;AAGlBnC,eAAOoC,MAAP,CAAc,SAAd,EAAyB,UAAUnC,OAAV,EAAmB;AAC1CA,oBAAUM,EAAE8B,MAAF,CAAS,EAAT,EAAazC,OAAb,EAAsBK,OAAtB,CAAV;AACA,cAAIA,QAAQC,IAAZ,EAAkB;AAChBH,uBAAWC,MAAX,EAAmBC,OAAnB;AACD;AACF,SALD;AAMD;AA3BI,KAAP;AA6BH,GA5EiC,CAAlC","file":"frame/component/menu/oasis-menu.js","sourcesContent":["import angularAMD from 'angularAMD';\nimport Utils from 'utils';\nimport 'css!./frame/component/menu/less/template';\n\nangularAMD.directive('oasisMenu', [function () {\n    console.log(11111);\n    var TemplateUrl = '../frame/component/menu/template.html';\n    var Default = {\n        type: 'vertical',\n        animation: 500\n    };\n    function renderMenu($scope, options) {\n                $scope.data = options.data;\n                $scope.menuType = options.type;\n                var animation = options.animation;\n                $scope.targatMenu = function (event) {\n                    //debugger\n                    var currentEle = $(angular.element(event.currentTarget));\n                    var nextEle = currentEle.next();\n                    // $(\".oasis-link\").remove();\n                    // if (currentEle.children(\".oasis-link\").length === 0) {\n                    //      currentEle.prepend(\"<sapn class='oasis-link'></span>\");\n                    // }\n                    // ink = currentEle.find(\".oasis-link\");\n                    // ink.removeClass(\"animate-ink\");\n                    // if (!ink.height() && !ink.width()) {\n                    //      d = Math.max(currentEle.outerWidth(), currentEle.outerHeight());\n                    //     ink.css({\n                    //           height: d,\n                    //           width: d\n                    //       })\n                    // }\n                    // x = event.pageX -currentEle.offset().left - ink.width() / 2;\n                    // y = event.pageY - currentEle.offset().top - ink.height() / 2;\n                    // ink.css({\n                    //       top: x + 'px',\n                    //       left: y + 'px'\n                    // }).addClass(\"animate-ink\")\n                    //currentEle.prepend(\"<sapn class='oasis-link'></span>\");\n                    if (nextEle.is('ul') && nextEle.is(':visible')) {\n                        var otherVisible = nextEle.find('ul:visible');\n                        otherVisible.slideUp(animation).removeClass('menu-open');\n                        nextEle.slideUp(animation).removeClass('menu-open');\n                    } else if (!nextEle.is(':visible')) {\n                        var parent = currentEle.parents('ul').first();\n                        var ul = parent.find('ul:visible');\n                        ul.slideUp(animation).removeClass('menu-open');\n                        nextEle.slideDown(animation).addClass('menu-open');\n                    }\n                };\n    }\n    return {\n      restrict: 'EA',\n      scope: {\n        options: '=opts'\n      },\n      templateUrl: TemplateUrl,\n      replace: true,\n      controller: function controller($scope, $element) {\n        //debugger\n      },\n      link: function link($scope, $element, attr, controller) {\n        //   debugger\n        if (!($element instanceof jQuery)) {\n          $element = $($element);\n        }\n        if (attr.width) $element.css({\n          width: attr.width + \"px\"\n        });\n        if (attr.bgcolor) $element.css({\n          'background-color': attr.bgcolor\n        });\n        $scope.$watch('options', function (options) {\n          options = $.extend({}, Default, options);\n          if (options.data) {\n            renderMenu($scope, options);\n          }\n        });\n      }\n    }\n}]);"],"sourceRoot":"/source/"}