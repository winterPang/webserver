{"version":3,"sources":["frame/component/paging/bs_pager.js"],"names":["define","mainApp","$","fn","twbsPagination","console","warn","directive","$timeout","restrict","scope","options","replace","require","template","link","$scope","$ele","$attr","$ngModel","jQuery","defaults","totalPages","startPage","first","prev","next","last","loop","pageClass","nextClass","prevClass","lastClass","firstClass","paginationClass","onPageClick","e","page","onChange","extend","$setViewValue","$watch","val","hide","data","css"],"mappings":";;;AAAAA,WAAO,CAAC,KAAD,EAAQ,uBAAR,CAAP,EAAyC,UAAUC,OAAV,EAAmB;AACxD,YAAI,CAACC,CAAD,IAAM,CAACA,EAAEC,EAAT,IAAe,CAACD,EAAEC,EAAF,CAAKC,cAAzB,EAAyC;AACrCC,oBAAQC,IAAR,CAAa,yBAAb;AACA;AACH;AACDL,gBAAQM,SAAR,CAAkB,SAAlB,EAA6B,CAAC,UAAD,EAAa,UAAUC,QAAV,EAAoB;AAC1D,mBAAO;AACHC,0BAAU,IADP;AAEHC,uBAAO;AACHC,6BAAS;AADN,iBAFJ;AAKHC,yBAAS,IALN;AAMHC,yBAAS,SANN;AAOHC,0BAAU,aAPP;AAQHC,sBAAM,cAAUC,MAAV,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,QAA/B,EAAyC;AAC3C,wBAAI,EAAEF,gBAAgBG,MAAlB,CAAJ,EAA+B;AAC3BH,+BAAOf,EAAEe,IAAF,CAAP;AACH;AACD,wBAAII,WAAW;AACXC,oCAAY,CADD;AAEXC,mCAAW,CAFA;AAGXC,+BAAO,SAHI;AAIXC,8BAAM,MAJK;AAKXC,8BAAM,MALK;AAMXC,8BAAM,SANK;AAOXC,8BAAM,KAPK;AAQXC,mCAAW,WARA;AASXC,mCAAW,WATA;AAUXC,mCAAW,WAVA;AAWXC,mCAAW,WAXA;AAYXC,oCAAY,YAZD;AAaXC,yCAAiB,YAbN;AAcXC,qCAAa,qBAAUC,CAAV,EAAaC,IAAb,EAAmB,CAC/B,CAfU;AAgBXC,kCAAU,kBAAUD,IAAV,EAAgB,CACzB;AAjBU,qBAAf;AAmBA,wBAAI1B,UAAUT,EAAEqC,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBlB,QAAnB,EAA6BL,OAAOL,OAApC,CAAd;AACA;AACAA,4BAAQwB,WAAR,GAAsB,UAAUC,CAAV,EAAaC,IAAb,EAAmB;AACrClB,iCAASqB,aAAT,CAAuBH,IAAvB;AACA1B,gCAAQ2B,QAAR,CAAiBD,IAAjB;AACH,qBAHD;AAIA;AACArB,2BAAOyB,MAAP,CAAc,oBAAd,EAAoC,UAAUC,GAAV,EAAe;AAC/C/B,gCAAQW,UAAR,GAAqBoB,GAArB;AACA,4BAAI,CAACA,GAAL,EAAU;AACNzB,iCAAK0B,IAAL;AACA;AACH;AACD;AACA,4BAAI1B,KAAK2B,IAAL,CAAU,gBAAV,CAAJ,EAAiC;AAC7B3B,iCAAKb,cAAL,CAAoB,SAApB;AACH;AACD;AACAa,6BAAKb,cAAL,CAAoBO,OAApB,EAA6BkC,GAA7B,CAAiC,SAAjC,EAA4C,cAA5C;AACH,qBAZD,EAYG,IAZH;AAaH;AAnDE,aAAP;AAqDH,SAtD4B,CAA7B;AAuDH,KA5DD","file":"frame/component/paging/bs_pager.js","sourcesContent":["define(['app', 'jquery.twbsPagination'], function (mainApp) {\n    if (!$ || !$.fn || !$.fn.twbsPagination) {\n        console.warn('twbsPagination组件还没有初始化!');\n        return;\n    }\n    mainApp.directive('bsPager', ['$timeout', function ($timeout) {\n        return {\n            restrict: 'EA',\n            scope: {\n                options: '=bsPager'\n            },\n            replace: true,\n            require: 'ngModel',\n            template: '<div></div>',\n            link: function ($scope, $ele, $attr, $ngModel) {\n                if (!($ele instanceof jQuery)) {\n                    $ele = $($ele);\n                }\n                var defaults = {\n                    totalPages: 1,\n                    startPage: 1,\n                    first: '&laquo;',\n                    prev: '&lt;',\n                    next: '&gt;',\n                    last: '&raquo;',\n                    loop: false,\n                    pageClass: 'twbs-page',\n                    nextClass: 'twbs-next',\n                    prevClass: 'twbs-prev',\n                    lastClass: 'twbs-last',\n                    firstClass: 'twbs-first',\n                    paginationClass: 'pagination',\n                    onPageClick: function (e, page) {\n                    },\n                    onChange: function (page) {\n                    }\n                };\n                var options = $.extend(true, {}, defaults, $scope.options);\n                // 页码修改后执行操作\n                options.onPageClick = function (e, page) {\n                    $ngModel.$setViewValue(page);\n                    options.onChange(page);\n                };\n                // 总页数修改后执行操作\n                $scope.$watch('options.totalPages', function (val) {\n                    options.totalPages = val;\n                    if (!val) {\n                        $ele.hide();\n                        return;\n                    }\n                    // 先销毁组件\n                    if ($ele.data('twbsPagination')) {\n                        $ele.twbsPagination('destroy');\n                    }\n                    // 创建组件并设置为行内块级元素\n                    $ele.twbsPagination(options).css('display', 'inline-block');\n                }, true);\n            }\n        };\n    }]);\n});\n"],"sourceRoot":"/source/"}